<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <title>Meeting Attendance Warning</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
      }
      .header {
        background: linear-gradient(135deg, #ff6b6b 0%, #ff4757 100%);
        color: white;
        padding: 30px;
        text-align: center;
        border-radius: 10px 10px 0 0;
      }
      .content {
        background: #f9f9f9;
        padding: 30px;
        border-radius: 0 0 10px 10px;
        border: 1px solid #e0e0e0;
      }
      .warning-box {
        background: #ffebee;
        border: 2px solid #f44336;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }
      .attendance-stats {
        background: white;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #ddd;
        margin: 20px 0;
      }
      .stat-row {
        display: flex;
        justify-content: space-between;
        margin: 10px 0;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }
      .stat-label {
        font-weight: 600;
        color: #555;
      }
      .stat-value {
        font-weight: 700;
        color: #333;
      }
      .percentage-warning {
        color: #d32f2f;
        font-size: 1.2em;
        font-weight: bold;
      }
      .action-required {
        background: #fff3cd;
        border: 2px solid #ffc107;
        border-radius: 8px;
        padding: 20px;
        margin: 20px 0;
      }
      .action-required h3 {
        color: #856404;
        margin-top: 0;
      }
      .cta-button {
        display: inline-block;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        text-decoration: none;
        padding: 15px 30px;
        border-radius: 25px;
        font-weight: bold;
        text-align: center;
        margin: 20px 0;
      }
      .cta-button:hover {
        opacity: 0.9;
      }
      .footer {
        background: #f5f5f5;
        padding: 20px;
        text-align: center;
        font-size: 0.9em;
        color: #666;
        border-radius: 0 0 10px 10px;
      }
      .penalty-info {
        background: #ffebee;
        border-left: 4px solid #f44336;
        padding: 15px;
        margin: 20px 0;
      }
      .upcoming-meetings {
        background: #e3f2fd;
        border-left: 4px solid #2196f3;
        padding: 15px;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div class='header'>
      <h1>⚠️ Meeting Attendance Warning</h1>
      <p>ACPN OTA Zone</p>
    </div>

    <div class='content'>
      <p>Dear {{firstName}} {{lastName}},</p>

      <div class='warning-box'>
        <h3>🚨 Attendance Below Required Threshold</h3>
        <p>Your meeting attendance for
          {{year}}
          is currently below the required 50% threshold. This notice serves as a
          warning to help you avoid potential penalties.</p>
      </div>

      <div class='attendance-stats'>
        <h3>📊 Your Attendance Statistics for {{year}}</h3>

        <div class='stat-row'>
          <span class='stat-label'>📅 Total Meetings:</span>
          <span class='stat-value'>{{totalMeetings}}</span>
        </div>

        <div class='stat-row'>
          <span class='stat-label'>✅ Meetings Attended:</span>
          <span class='stat-value'>{{attendedMeetings}}</span>
        </div>

        <div class='stat-row'>
          <span class='stat-label'>❌ Meetings Missed:</span>
          <span class='stat-value'>{{missedMeetings}}</span>
        </div>

        <div class='stat-row'>
          <span class='stat-label'>📈 Attendance Percentage:</span>
          <span
            class='stat-value percentage-warning'
          >{{attendancePercentage}}%</span>
        </div>

        <div class='stat-row'>
          <span class='stat-label'>🎯 Required Percentage:</span>
          <span class='stat-value'>50%</span>
        </div>
      </div>

      {{#if remainingMeetings}}
        <div class='upcoming-meetings'>
          <h3>📅 Opportunity to Improve</h3>
          <p>There are still
            <strong>{{remainingMeetings}}</strong>
            meeting(s) scheduled for this year. You can improve your attendance
            by participating in these upcoming meetings.</p>
        </div>
      {{/if}}

      <div class='penalty-info'>
        <h3>💰 Penalty Information</h3>
        <p><strong>If your attendance remains below 50% by December 31st,
            {{year}}:</strong></p>
        <ul>
          <li>A penalty of
            <strong>50% of your annual dues</strong>
            will be applied</li>
          <li>The penalty will be added to your account in March
            {{nextYear}}</li>
          <li>This is in accordance with ACPN OTA Zone attendance policy</li>
        </ul>
      </div>

      <div class='action-required'>
        <h3>🎯 Action Required</h3>
        <p>To avoid penalties and maintain good standing:</p>
        <ul>
          <li>✅ Attend all remaining meetings for {{year}}</li>
          <li>📅 Check your calendar regularly for meeting schedules</li>
          <li>💬 Contact the secretary if you have scheduling conflicts</li>
          <li>📱 Enable meeting notifications on your dashboard</li>
        </ul>
      </div>

      <div style='margin: 30px 0; text-align: center;'>
        <a
          href='{{dashboardUrl}}/dashboard/attendance-status'
          class='cta-button'
        >View Full Attendance Record</a>
      </div>

      <p>We value your participation in our association and want to help you
        maintain good attendance. If you have any questions about this notice or
        need assistance with attending meetings, please don't hesitate to
        contact us.</p>

      <p>Best regards,<br />
        <strong>ACPN OTA Zone Executive Committee</strong></p>
    </div>

    <div class='footer'>
      <p>Association of Community Pharmacists of Nigeria (ACPN) - Ota Zone</p>
      <p>This is an automated attendance warning. For questions, please contact
        the secretary.</p>
      <p>View your attendance dashboard:
        <a
          href='{{dashboardUrl}}/dashboard/attendance-status'
        >{{dashboardUrl}}/dashboard/attendance-status</a></p>
    </div>
  </body>
</html>